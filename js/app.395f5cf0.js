(function(e){function t(t){for(var n,i,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("4160"),a("a15b"),a("d81d"),a("b64b"),a("d3b7"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("db4d"),a("2e94");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{dark:e.$root.dark}},[a("v-toolbar",{attrs:{app:"","clipped-left":"",color:"primary"}},[a("v-toolbar-side-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.$root.drawer=!e.$root.drawer}}}),a("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.$root.title))])],1),a("v-navigation-drawer",{ref:"drawer",staticStyle:{overflow:"hidden"},attrs:{app:"",clipped:"","mobile-break-point":960},model:{value:e.$root.drawer,callback:function(t){e.$set(e.$root,"drawer",t)},expression:"$root.drawer"}},[a("v-toolbar",{staticClass:"hidden-md-and-up",attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.$root.title))])],1),a("v-list",[a("v-list-tile",{on:{click:function(t){return e.$router.push({path:"/"})}}},[a("v-list-tile-action",[a("v-icon",[e._v("home")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Home")])],1)],1),a("v-list-group",{attrs:{"active-class":"","prepend-icon":"language","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v("Domains")])],1)],1)]},proxy:!0}]),model:{value:e.$root.domains_expand,callback:function(t){e.$set(e.$root,"domains_expand",t)},expression:"$root.domains_expand"}},e._l(e.$root.domains,(function(t){return a("v-list-tile",{key:t.domain,attrs:{to:t.prevent?"":"/domain/"+t.domain,value:e.$route.params.domain==t.domain}},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.domain.toUpperCase()))])],1),t.icon?a("v-list-tile-action",[a("v-icon",{attrs:{title:t.info}},[e._v(e._s(t.icon))])],1):e._e()],1)})),1)],1)],1),a("v-content",[a("router-view")],1)],1)},o=[],i=a("2877"),l=a("6544"),s=a.n(l),c=a("7496"),d=a("549c"),u=a("132d"),p=a("8860"),m=a("56b0"),f=a("ba95"),v=a("40fe"),h=a("5d23"),y=a("f774"),b=a("71d9"),g=a("706c"),x=a("2a7f"),w={},_=Object(i["a"])(w,r,o,!1,null,null,null),k=_.exports;s()(_,{VApp:c["a"],VContent:d["a"],VIcon:u["a"],VList:p["a"],VListGroup:m["a"],VListTile:f["a"],VListTileAction:v["a"],VListTileContent:h["a"],VListTileTitle:h["b"],VNavigationDrawer:y["a"],VToolbar:b["a"],VToolbarSideIcon:g["a"],VToolbarTitle:x["a"]});var S=a("8c4f"),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pa-2"},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12class:"pa-2"}},[a("v-alert",{staticClass:"mb-2",attrs:{value:!0,type:"info",outline:""}},[e._v(" API Proxy is a server endpoint that forwards your request to the Namecheap API endpoint. "),a("br"),e._v(" It's intended to get rid of IP restrictions. Remember to add ClientIP as the POST parameter when you're writing your own proxy! ")]),a("v-alert",{staticClass:"mb-2",attrs:{value:!0,type:"warning",outline:""}},[e._v(' It\'s not OK to fill in "https://api.namecheap.com/xml.response" directly, because the client won\'t attach "ClientIP" parameter and therefore will cause an error. ')])],1),a("v-flex",{staticClass:"pa-2",attrs:{xs12:"",md6:""}},[a("v-card",{staticClass:"elevation-4"},[a("v-toolbar",{attrs:{color:"primary"}},[a("v-toolbar-title",[e._v("API Configuration")])],1),a("v-card-text",[a("v-text-field",{attrs:{placeholder:"Proxy","prepend-icon":"link"},model:{value:e.api.url,callback:function(t){e.$set(e.api,"url",t)},expression:"api.url"}}),a("v-text-field",{attrs:{placeholder:"API User","prepend-icon":"account_circle"},model:{value:e.api.user,callback:function(t){e.$set(e.api,"user",t)},expression:"api.user"}}),a("v-text-field",{attrs:{placeholder:"API Key","prepend-icon":"lock",type:"password"},model:{value:e.api.key,callback:function(t){e.$set(e.api,"key",t)},expression:"api.key"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.saveApi()}}},[e._v(" Save ")])],1)],1)],1)],1)],1)},C=[],A={data:function(){return{api:{url:"",key:"",user:"",userName:""}}},mounted:function(){localStorage.api&&(this.api=JSON.parse(localStorage.api))},methods:{saveApi:function(){this.api.userName=this.api.user,localStorage.api=JSON.stringify(this.api)}}},V=A,$=a("0798"),P=a("8336"),D=a("b0af"),E=a("99d9"),N=a("a523"),I=a("0e8f"),O=a("a722"),F=a("9910"),L=a("2677"),M=Object(i["a"])(V,T,C,!1,null,null,null),R=M.exports;s()(M,{VAlert:$["a"],VBtn:P["a"],VCard:D["a"],VCardActions:E["a"],VCardText:E["b"],VContainer:N["a"],VFlex:I["a"],VLayout:O["a"],VSpacer:F["a"],VTextField:L["a"],VToolbar:b["a"],VToolbarTitle:x["a"]});var j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pa-3"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"mb-2 mx-2",attrs:{xs12:""}},[a("h2",[e._v("DNS Records")])]),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.recordHeaders,items:e.records,loading:e.loading,"no-data-text":null==e.error?"Loading...":e.error,"rows-per-page-items":[-1],"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.type,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:e.domainTypes,dense:""},on:{change:function(t){e.changed=!0}},model:{value:t.item.type,callback:function(a){e.$set(t.item,"type",a)},expression:"s.item.type"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.type)+" ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.name,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Host","single-line":""},on:{change:function(t){e.changed=!0}},model:{value:t.item.host,callback:function(a){e.$set(t.item,"host",a)},expression:"s.item.host"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.host||"Click Me")+" ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.value,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Value","single-line":""},on:{change:function(t){e.changed=!0}},model:{value:t.item.value,callback:function(a){e.$set(t.item,"value",a)},expression:"s.item.value"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.value||"Click Me")+" ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.ttl,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-select",{attrs:{items:e.ttlPresets,dense:""},on:{change:function(t){e.changed=!0}},model:{value:t.item.ttl,callback:function(a){e.$set(t.item,"ttl",a)},expression:"s.item.ttl"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.ttl)+" ")])],1),a("td",[a("v-btn",{attrs:{flat:"",icon:""},on:{click:function(a){return e.deleteRecord(t.item)}}},[a("v-icon",[e._v("delete")])],1)],1)]}},{key:"actions-append",fn:function(){return[a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(t){return e.newRecord()}}},[e._v("NEW")])]},proxy:!0}])})],1),a("v-flex",{staticClass:"ma-2",attrs:{xs12:""}},[a("h2",[e._v("Mail Settings")])]),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:e.emailTypes,"item-value":"key","item-text":"name",label:"DNS Mode","hide-details":"",solo:""},on:{change:function(t){e.changed=!0}},model:{value:e.emailType,callback:function(t){e.emailType=t},expression:"emailType"}})],1),a("v-flex",{staticClass:"my-2",staticStyle:{"text-align":"end"},attrs:{xs12:""}},["FWD"==this.emailType?a("v-btn",{staticClass:"mr-2",attrs:{disabled:!e.forwardChanged},on:{click:function(t){return e.saveForwards()}}},[e._v("↓ SAVE")]):e._e(),a("v-btn",{staticClass:"mr-0",attrs:{disabled:!e.changed},on:{click:function(t){return e.saveRecords()}}},[e._v("SAVE ↑")])],1),a("v-flex",{attrs:{xs12:""}},["FWD"==this.emailType?a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.forwardHeaders,items:e.forwards,loading:e.loading,"no-data-text":null==e.error?"Loading...":e.error,"rows-per-page-items":[-1],"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.mailbox,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"MailBox, * for catch-all","single-line":""},on:{change:function(t){e.forwardChanged=!0}},model:{value:t.item.mailbox,callback:function(a){e.$set(t.item,"mailbox",a)},expression:"s.item.mailbox"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.mailbox||"Click Me")+" ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.target,lazy:""},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Target","single-line":""},on:{change:function(t){e.forwardChanged=!0}},model:{value:t.item.target,callback:function(a){e.$set(t.item,"target",a)},expression:"s.item.target"}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(t.item.target||"Click Me")+" ")])],1),a("td",[a("v-btn",{attrs:{flat:"",icon:""},on:{click:function(a){return e.deleteForward(t.item)}}},[a("v-icon",[e._v("delete")])],1)],1)]}},{key:"actions-append",fn:function(){return[a("v-btn",{attrs:{flat:"",color:"white"},on:{click:function(t){return e.newForward()}}},[e._v("NEW")])]},proxy:!0}],null,!1,175396528)}):e._e()],1)],1)],1)},H=[],q=(a("c975"),a("a434"),a("ac1f"),a("1276"),{created:function(){this.reload()},data:function(){return{domainTypes:["A","AAAA","ALIAS","CAA","CNAME","MX","MXE","NS","TXT","URL","URL301","FRAME"],ttlPresets:["60","300","1200","1800","3600"],emailTypes:[{key:"NONE",name:"No Email Service"},{key:"MX",name:"Custom MX"},{key:"MXE",name:"MXE Record"},{key:"FWD",name:"Email Forwarding"},{key:"OX",name:"Private Email"},{key:"GMAIL",name:"Gmail"}],domain:"",sld:"",tld:"",emailType:"",records:[],recordHeaders:[{text:"Type",value:"type"},{text:"Host",value:"host"},{text:"Value",value:"value"},{text:"TTL",value:"ttl"},{text:"Action",sortable:!1}],changed:!1,forwards:[],forwardHeaders:[{text:"MailBox",value:"mailbox"},{text:"Target",value:"target"},{text:"Action",sortable:!1}],forwardChanged:!1,loading:!1,error:null}},watch:{$route:"reload"},methods:{reload:function(){var e=this;this.domain=this.$route.params.domain,this.$root.title="Domain: "+this.domain.toUpperCase();var t=this.domain.split(".");this.sld=t.shift(),this.tld=t.join("."),this.records=[],this.emailType="",this.changed=!1,this.loading=!0,this.$root.fetchAPI("namecheap.domains.dns.getHosts",{SLD:this.sld,TLD:this.tld}).then((function(t){t=t.querySelector("DomainDNSGetHostsResult"),t.attributes.Domain.value==e.domain&&(e.emailType=t.attributes.EmailType.value,t.querySelectorAll("host").forEach((function(t){t=t.attributes,t={id:t.HostId.value,ttl:t.TTL.value,type:t.Type.value,host:t.Name.value,value:t.Address.value,mx_preference:t.MXPref.value,ddns:"true"==t.IsDDNSEnabled.value},t.ddns,e.records.push(t)})),e.loading=!1,e.reloadForward())}))},newRecord:function(){this.records.push({ddns:!1,ttl:"300",type:"A",host:"",value:"",mx_preference:"10"})},deleteRecord:function(e){var t=this.records.indexOf(e);-1!==t&&(this.records.splice(t,1),this.changed=!0)},saveRecords:function(){var e=this;this.loading=!0;for(var t={SLD:this.sld,TLD:this.tld,EmailType:this.emailType},a=1;a<=this.records.length;a++){var n=this.records[a-1];t["HostName"+a]=n.host,t["RecordType"+a]=n.type,t["Address"+a]=n.value,t["MXPref"+a]=n.mx_preference,t["TTL"+a]=n.ttl}this.$root.fetchAPI("namecheap.domains.dns.setHosts",t).then((function(t){e.emailType=t.querySelector("DomainDNSSetHostsResult").attributes.EmailType.value,console.info(t),e.loading=!1,e.reload()})).catch((function(){e.loading=!1}))},reloadForward:function(){var e=this;"FWD"==this.emailType&&(this.loading=!0,this.forwards=[],this.$root.fetchAPI("namecheap.domains.dns.getEmailForwarding",{DomainName:this.domain}).then((function(t){t=t.querySelector("DomainDNSGetEmailForwardingResult"),t.attributes.Domain.value==e.domain&&(t.querySelectorAll("Forward").forEach((function(t){e.forwards.push({id:t.attributes.mailboxid.value,mailbox:t.attributes.mailbox.value,target:t.innerHTML})})),e.loading=!1)})).catch((function(){e.loading=!1})))},newForward:function(){this.forwards.push({mailbox:"",target:""})},deleteForward:function(e){var t=this.forwards.indexOf(e);-1!==t&&(this.forwards.splice(t,1),this.forwardChanged=!0)},saveForwards:function(){var e=this;this.loading=!0;for(var t={DomainName:this.domain},a=1;a<=this.forwards.length;a++){var n=this.forwards[a-1];t["MailBox"+a]=n.mailbox,t["ForwardTo"+a]=n.target}this.$root.fetchAPI("namecheap.domains.dns.setEmailForwarding",t).then((function(t){console.info(t),e.loading=!1,e.reloadForward()})).catch((function(){e.loading=!1}))}}}),X=q,U=a("8fea"),W=a("7679"),z=a("b56d"),G=Object(i["a"])(X,j,H,!1,null,null,null),J=G.exports;s()(G,{VBtn:P["a"],VContainer:N["a"],VDataTable:U["a"],VEditDialog:W["a"],VFlex:I["a"],VIcon:u["a"],VLayout:O["a"],VSelect:z["a"],VTextField:L["a"]}),n["a"].use(S["a"]);var B=new S["a"]({base:"/",routes:[{path:"/",component:R},{path:"/domain/:domain",component:J},{path:"*",redirect:"/"}]});B.beforeEach((function(e,t,a){a()}));var K=B,Q=a("bb71");a("da64");n["a"].use(Q["a"],{iconfont:"md"}),n["a"].config.productionTip=!1,new n["a"]({data:{title:"Namecheap Panel",drawer:null,dark:!0,domains:[{domain:"Loading...",prevent:!0}],domains_expand:!0},methods:{fetchAPI:function(e,t){t||(t={});var a=JSON.parse(localStorage.api);return t.ApiKey=a.key,t.ApiUser=a.user,t.UserName=a.userName,t.Command=e,fetch(a.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}).then((function(e){return e.text()})).then((function(e){return(new window.DOMParser).parseFromString(e,"text/xml")})).then((function(e){var t=e.querySelectorAll("Errors > Error");if(0!=t.length){var a="Request Failed";throw t.forEach((function(e){a+="\n"+e.innerHTML+" ("+e.attributes.Number.value+")"})),window.alert(a),new Error(a)}return e.querySelector("CommandResponse")}))},newWindow:function(e){window.open("/"+e)},changeLocation:function(e){location.href="/"+e}},watch:{$route:function(){this.title="Namecheap Panel"}},created:function(){var e=this;localStorage.api&&JSON.parse(localStorage.api).url?this.fetchAPI("namecheap.domains.getList").then((function(t){e.domains=[],t.querySelectorAll("DomainGetListResult > Domain").forEach((function(t){t=t.attributes;var a="",n="";"true"!=t.IsOurDNS.value&&(a="block",n="Domain isn't using Namecheap DNS."),"true"==t.IsExpired.value&&(a="warning",n="Domain is expired!"),e.domains.push({domain:t.Name.value,prevent:""!=a,icon:a,info:n})}))})).catch((function(){e.domains=[{domain:"Error",prevent:!0}]})):this.domains=[{domain:"Setup API First",prevent:!0}]},el:"#app",router:K,render:function(e){return e(k)}})}});
//# sourceMappingURL=app.395f5cf0.js.map